<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>Generador de Banners</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body{
      margin:0;
      font-family: Inter, system-ui, Arial, sans-serif;
      background:#0b0b0f;
      color:#fff;
    }
    .wrap{
      max-width:1100px;
      margin:0 auto;
      padding:40px 20px;
    }
    h1{
      font-size:38px;
      margin-bottom:10px;
    }
    p{
      opacity:.8;
      margin-bottom:30px;
    }
    .grid{
      display:grid;
      grid-template-columns: 380px 1fr;
      gap:30px;
    }
    .card{
      background:#111827;
      border-radius:16px;
      padding:20px;
    }
    label{
      display:block;
      font-size:14px;
      margin-bottom:6px;
      opacity:.9;
    }
    input, select{
      width:100%;
      padding:12px;
      border-radius:10px;
      border:none;
      margin-bottom:14px;
      font-size:15px;
    }
    button{
      width:100%;
      padding:14px;
      border:none;
      border-radius:12px;
      background:#22c55e;
      color:#0b0b0f;
      font-weight:900;
      font-size:16px;
      cursor:pointer;
    }
    iframe{
      width:100%;
      height:700px;
      border-radius:16px;
      border:none;
      background:#000;
    }
    .actions{
      display:flex;
      gap:10px;
      margin-top:10px;
    }
    .actions a{
      flex:1;
      text-align:center;
      padding:12px;
      border-radius:12px;
      background:#1f2937;
      color:#fff;
      text-decoration:none;
      font-weight:700;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>Generador de Banners IA</h1>
    <p>Crea banners listos para Meta Ads y landing pages en segundos.</p>

    <div class="grid">
      <!-- FORM -->
      <div class="card">
        <label>Tipo de banner</label>
        <select id="template">
          <option value="offer_direct">Oferta directa</option>
          <option value="authority">Autoridad</option>
        </select>

        <label>Headline</label>
        <input id="headline" value="BLACK FRIDAY OFERTA">

        <label>Sub badge / Sello</label>
        <input id="sub_badge" value="PACK X2">

        <label>Beneficio / Prueba 1</label>
        <input id="b1" value="ENVÍO GRATIS">

        <label>Beneficio / Prueba 2</label>
        <input id="b2" value="GARANTÍA">

        <label>Beneficio / Prueba 3</label>
        <input id="b3" value="CALIDAD PREMIUM">

        <label>CTA</label>
        <input id="cta" value="COMPRAR AHORA">

        <button onclick="generate()">Generar banner</button>
      </div>

      <!-- PREVIEW -->
      <div class="card">
        <iframe id="preview"></iframe>
        <div class="actions">
          <a id="download" href="#" target="_blank">Descargar PNG</a>
          <a id="open" href="#" target="_blank">Abrir preview</a>
        </div>
      </div>
    </div>
  </div>

<script>
function generate(){
  const t = document.getElementById("template").value;
  const h = encodeURIComponent(document.getElementById("headline").value);
  const sb = encodeURIComponent(document.getElementById("sub_badge").value);
  const b1 = encodeURIComponent(document.getElementById("b1").value);
  const b2 = encodeURIComponent(document.getElementById("b2").value);
  const b3 = encodeURIComponent(document.getElementById("b3").value);
  const cta = encodeURIComponent(document.getElementById("cta").value);

  const previewUrl =
    `/preview?template=${t}&headline=${h}&sub_badge=${sb}&b1=${b1}&b2=${b2}&b3=${b3}&cta=${cta}`;

  const pngUrl =
    `/png?template=${t}&headline=${h}&sub_badge=${sb}&b1=${b1}&b2=${b2}&b3=${b3}&cta=${cta}`;

  document.getElementById("preview").src = previewUrl;
  document.getElementById("download").href = pngUrl;
  document.getElementById("open").href = previewUrl;
}
</script>
</body>
</html>
